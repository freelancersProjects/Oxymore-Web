@import '../../../../styles/global.scss';

.team-applications-page {
  padding: rem-calc(24) rem-calc(20);

  .applications-header {
    display: flex;
    align-items: center;
    justify-content: space-between;
    margin-bottom: rem-calc(24);

    .applications-title {
      font-family: 'Orbitron', monospace;
      font-size: rem-calc(24);
      font-weight: 700;
      color: $color-white;
      margin: 0;
    }

    .applications-count {
      font-family: 'Outfit', sans-serif;
      font-size: rem-calc(14);
      color: rgba(255, 255, 255, 0.6);
      padding: rem-calc(6) rem-calc(12);
      background: rgba(21, 147, 206, 0.2);
      border: 1px solid rgba(21, 147, 206, 0.3);
      border-radius: rem-calc(8);
    }
  }


  .applications-container {
    display: flex;
    flex-direction: column;
    gap: rem-calc(32);
  }

  .applications-section {
    .section-title {
      font-family: 'Orbitron', monospace;
      font-size: rem-calc(18);
      font-weight: 600;
      color: $color-white;
      margin-bottom: rem-calc(16);
      padding-bottom: rem-calc(12);
      border-bottom: 1px solid rgba(255, 255, 255, 0.1);
    }

    .applications-list {
      display: flex;
      flex-direction: column;
      gap: rem-calc(8);
    }
  }

  .application-row {
    position: relative;
    display: flex;
    align-items: flex-start;
    justify-content: space-between;
    gap: rem-calc(16);
    background: rgb(255 255 255 / 3%);
    border: 1px solid rgb(255 255 255 / 10%);
    border-radius: rem-calc(12);
    padding: rem-calc(16) rem-calc(20);
    backdrop-filter: blur(10px);
    transition: all 0.3s ease;

    &:hover {
      background: rgb(255 255 255 / 5%);
      border-color: rgba($color-blue, 0.3);
    }

    &.pending {
      background: rgba(251, 191, 36, 0.03);
    }

    .application-main {
      display: flex;
      align-items: flex-start;
      gap: rem-calc(16);
      flex: 1;
      min-width: 0;

      .application-avatar {
        width: rem-calc(48);
        height: rem-calc(48);
        border-radius: 50%;
        border: 2px solid rgba(255, 255, 255, 0.1);
        flex-shrink: 0;
        margin-top: rem-calc(2);
      }

      .application-user-info {
        display: flex;
        flex-direction: column;
        gap: rem-calc(4);
        flex: 1;
        min-width: 0;

        .application-username {
          font-family: 'Orbitron', monospace;
          font-size: rem-calc(16);
          font-weight: 600;
          color: $color-white;
        }

        .application-date {
          font-family: 'Outfit', sans-serif;
          font-size: rem-calc(12);
          color: rgba(255, 255, 255, 0.5);
          display: flex;
          align-items: center;
          gap: rem-calc(4);
        }

        .application-subject-line {
          font-family: 'Outfit', sans-serif;
          font-size: rem-calc(13);
          color: rgba(255, 255, 255, 0.7);
          display: flex;
          align-items: center;
          gap: rem-calc(6);
          margin-top: rem-calc(4);

          svg {
            color: rgba(21, 147, 206, 0.7);
            flex-shrink: 0;
          }

          strong {
            font-weight: 600;
          }
        }

        .application-message-preview {
          font-family: 'Outfit', sans-serif;
          font-size: rem-calc(13);
          color: rgba(255, 255, 255, 0.6);
          margin-top: rem-calc(6);
          max-width: rem-calc(400);
          overflow: hidden;
          text-overflow: ellipsis;
          white-space: nowrap;
          display: flex;
          align-items: center;
          gap: rem-calc(6);

          &.clickable {
            cursor: pointer;
            color: rgba(21, 147, 206, 0.8);
            transition: color 0.2s ease;

            &:hover {
              color: rgba(21, 147, 206, 1);
            }

            .view-cv-icon {
              flex-shrink: 0;
              opacity: 0.7;
            }
          }
        }
      }
    }

    .application-status-badge {
      padding: rem-calc(8) rem-calc(16);
      border-radius: rem-calc(8);
      font-family: 'Outfit', sans-serif;
      font-size: rem-calc(13);
      font-weight: 600;
      flex-shrink: 0;
      align-self: flex-start;
      margin-top: rem-calc(2);
      height: rem-calc(36);
      box-sizing: border-box;

      &.pending {
        background: rgba(251, 191, 36, 0.2);
        color: #fbbf24;
        border: 1px solid rgba(251, 191, 36, 0.3);
        min-width: rem-calc(110);
        text-align: center;
        white-space: nowrap;
        display: flex;
        align-items: center;
        justify-content: center;
      }

      &.accepted {
        background: rgba(34, 197, 94, 0.2);
        color: #22c55e;
        border: 1px solid rgba(34, 197, 94, 0.3);
      }

      &.rejected {
        background: rgba(239, 68, 68, 0.2);
        color: #ef4444;
        border: 1px solid rgba(239, 68, 68, 0.3);
      }
    }

    .application-actions {
      display: flex;
      align-items: center;
      gap: rem-calc(8);
      flex-shrink: 0;

      .action-btn {
        display: flex;
        align-items: center;
        justify-content: center;
        gap: rem-calc(6);
        padding: rem-calc(8) rem-calc(16);
        border: none;
        border-radius: rem-calc(8);
        font-family: 'Outfit', sans-serif;
        font-size: rem-calc(13);
        font-weight: 600;
        cursor: pointer;
        transition: all 0.2s ease;
        white-space: nowrap;

        &.accept {
          background: rgba(34, 197, 94, 0.2);
          color: #22c55e;
          border: 1px solid rgba(34, 197, 94, 0.3);

          &:hover:not(:disabled) {
            background: rgba(34, 197, 94, 0.3);
            border-color: rgba(34, 197, 94, 0.5);
          }
        }

        &.reject {
          background: rgba(239, 68, 68, 0.2);
          color: #ef4444;
          border: 1px solid rgba(239, 68, 68, 0.3);

          &:hover:not(:disabled) {
            background: rgba(239, 68, 68, 0.3);
            border-color: rgba(239, 68, 68, 0.5);
          }
        }

        &:disabled {
          opacity: 0.5;
          cursor: not-allowed;
        }

        svg {
          width: rem-calc(16);
          height: rem-calc(16);
        }
      }
    }
  }
}

.cv-view-modal {
  display: flex;
  flex-direction: column;
  height: 100%;
  width: 100%;

  .cv-modal-header {
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: rem-calc(32);
    border-bottom: 1px solid rgba(255, 255, 255, 0.1);
    flex-shrink: 0;

    .cv-header-content {
      display: flex;
      align-items: center;
      gap: rem-calc(16);

      .cv-user-avatar {
        width: rem-calc(64);
        height: rem-calc(64);
        border-radius: 50%;
        border: 2px solid rgba(255, 255, 255, 0.1);
      }

      .cv-user-info {
        display: flex;
        flex-direction: column;
        gap: rem-calc(8);

        .cv-username {
          font-family: 'Orbitron', monospace;
          font-size: rem-calc(20);
          font-weight: 700;
          color: $color-white;
          margin: 0;
        }

        .cv-date {
          font-family: 'Outfit', sans-serif;
          font-size: rem-calc(13);
          color: rgba(255, 255, 255, 0.6);
          display: flex;
          align-items: center;
          gap: rem-calc(6);
        }
      }
    }

    .cv-close-btn {
      width: rem-calc(40);
      height: rem-calc(40);
      border-radius: rem-calc(8);
      border: 1px solid rgba(255, 255, 255, 0.1);
      background: rgba(255, 255, 255, 0.05);
      color: rgba(255, 255, 255, 0.7);
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      transition: all 0.3s ease;
      flex-shrink: 0;

      &:hover {
        background: rgba(255, 255, 255, 0.1);
        border-color: rgba(21, 147, 206, 0.5);
        color: $color-white;
      }

      svg {
        width: rem-calc(24);
        height: rem-calc(24);
      }
    }
  }

  .cv-modal-content {
    flex: 1;
    overflow-y: auto;
    padding: rem-calc(32);
    display: flex;
    flex-direction: column;
    gap: rem-calc(24);

    .cv-subject-section,
    .cv-message-section {
      .cv-section-label {
        display: flex;
        align-items: center;
        gap: rem-calc(8);
        margin-bottom: rem-calc(12);
        font-family: 'Orbitron', monospace;
        font-size: rem-calc(14);
        font-weight: 600;
        color: rgba(255, 255, 255, 0.8);
        text-transform: uppercase;
        letter-spacing: rem-calc(1);

        svg {
          color: rgba(21, 147, 206, 0.7);
        }
      }

      .cv-subject {
        font-family: 'Outfit', sans-serif;
        font-size: rem-calc(18);
        font-weight: 600;
        color: $color-white;
        margin: 0;
        padding: rem-calc(16);
        background: rgba(255, 255, 255, 0.05);
        border-radius: rem-calc(8);
        border-left: 3px solid rgba(21, 147, 206, 0.5);
      }

      .cv-message-content {
        padding: rem-calc(16);
        background: rgba(255, 255, 255, 0.05);
        border-radius: rem-calc(8);
        border-left: 3px solid rgba(21, 147, 206, 0.5);

        p {
          font-family: 'Outfit', sans-serif;
          font-size: rem-calc(14);
          color: rgba(255, 255, 255, 0.9);
          line-height: 1.7;
          margin: 0;
          white-space: pre-wrap;
          word-wrap: break-word;
        }
      }
    }
  }
}

@media (max-width: 1024px) {
  .team-applications-page {
    padding: rem-calc(20) rem-calc(16);
  }

  .applications-header {
    margin-bottom: rem-calc(20);

    .applications-title {
      font-size: rem-calc(22);
    }

    .applications-count {
      font-size: rem-calc(13);
      padding: rem-calc(5) rem-calc(10);
    }
  }

  .applications-container {
    gap: rem-calc(24);
  }

  .application-row {
    padding: rem-calc(14) rem-calc(18);
    gap: rem-calc(12);
  }
}

@media (max-width: 768px) {
  .team-applications-page {
    padding: rem-calc(16) rem-calc(12);
  }

  .applications-header {
    flex-direction: column;
    align-items: flex-start;
    gap: rem-calc(12);
  }

  .application-row {
    flex-direction: column;
    align-items: flex-start;
    gap: rem-calc(12);
    padding: rem-calc(16);

    .application-main {
      width: 100%;
    }

    .application-status-badge {
      align-self: flex-end;
      margin-top: 0;
      margin-bottom: rem-calc(4);
    }
  }

  .applications-header {
    .applications-title {
      font-size: rem-calc(20);
    }

    .applications-count {
      font-size: rem-calc(12);
      padding: rem-calc(4) rem-calc(10);
    }
  }

  .applications-container {
    gap: rem-calc(20);
  }

  .applications-section {
    .section-title {
      font-size: rem-calc(16);
      margin-bottom: rem-calc(12);
    }
  }

  .application-row {
    flex-direction: column;
    align-items: flex-start;
    padding: rem-calc(12) rem-calc(16);
    gap: rem-calc(12);

    .application-main {
      width: 100%;
      gap: rem-calc(12);

      .application-avatar {
        width: rem-calc(44);
        height: rem-calc(44);
      }

      .application-user-info {
        gap: rem-calc(3);

        .application-username {
          font-size: rem-calc(15);
        }

        .application-date {
          font-size: rem-calc(11);
        }

        .application-subject-line {
          font-size: rem-calc(12);
          margin-top: rem-calc(3);
        }

        .application-message-preview {
          font-size: rem-calc(12);
          margin-top: rem-calc(4);
          max-width: 100%;
        }
      }
    }

    .application-status-badge {
      padding: rem-calc(5) rem-calc(10);
      font-size: rem-calc(11);
    }

    .application-actions {
      width: 100%;
      justify-content: flex-end;
      gap: rem-calc(6);

      .action-btn {
        padding: rem-calc(6) rem-calc(12);
        font-size: rem-calc(12);

        svg {
          width: rem-calc(14);
          height: rem-calc(14);
        }
      }
    }
  }

  .cv-view-modal {
    .cv-modal-header {
      padding: rem-calc(20);
      flex-direction: column;
      align-items: flex-start;
      gap: rem-calc(12);

      .cv-header-content {
        width: 100%;
        gap: rem-calc(12);

        .cv-user-avatar {
          width: rem-calc(56);
          height: rem-calc(56);
        }

        .cv-user-info {
          .cv-username {
            font-size: rem-calc(18);
          }

          .cv-date {
            font-size: rem-calc(12);
          }
        }
      }

      .cv-close-btn {
        position: absolute;
        top: rem-calc(20);
        right: rem-calc(20);
        width: rem-calc(36);
        height: rem-calc(36);
      }
    }

    .cv-modal-content {
      padding: rem-calc(20);
      gap: rem-calc(16);

      .cv-subject-section,
      .cv-message-section {
        .cv-section-label {
          font-size: rem-calc(13);
          margin-bottom: rem-calc(10);
        }

        .cv-subject {
          font-size: rem-calc(16);
          padding: rem-calc(12);
        }

        .cv-message-content {
          padding: rem-calc(12);

          p {
            font-size: rem-calc(13);
          }
        }
      }
    }
  }
}

@media (max-width: 480px) {
  .team-applications-page {
    padding: rem-calc(12) rem-calc(8);
  }

  .applications-header {
    margin-bottom: rem-calc(12);
    gap: rem-calc(10);

    .applications-title {
      font-size: rem-calc(18);
    }

    .applications-count {
      font-size: rem-calc(11);
      padding: rem-calc(4) rem-calc(8);
    }
  }

  .applications-container {
    gap: rem-calc(16);
  }

  .applications-section {
    .section-title {
      font-size: rem-calc(14);
      margin-bottom: rem-calc(10);
    }
  }

  .application-row {
    padding: rem-calc(10) rem-calc(12);
    gap: rem-calc(10);

    .application-main {
      gap: rem-calc(10);

      .application-avatar {
        width: rem-calc(40);
        height: rem-calc(40);
      }

      .application-user-info {
        .application-username {
          font-size: rem-calc(14);
        }

        .application-date {
          font-size: rem-calc(10);
        }

        .application-subject-line {
          font-size: rem-calc(11);
        }

        .application-message-preview {
          font-size: rem-calc(11);
        }
      }
    }

    .application-status-badge {
      padding: rem-calc(4) rem-calc(8);
      font-size: rem-calc(10);
    }

    .application-actions {
      flex-direction: column;
      width: 100%;
      gap: rem-calc(6);

      .action-btn {
        width: 100%;
        justify-content: center;
        padding: rem-calc(8) rem-calc(12);
        font-size: rem-calc(11);
      }
    }
  }

  .cv-view-modal {
    .cv-modal-header {
      padding: rem-calc(16);

      .cv-header-content {
        .cv-user-avatar {
          width: rem-calc(48);
          height: rem-calc(48);
        }

        .cv-user-info {
          .cv-username {
            font-size: rem-calc(16);
          }

          .cv-date {
            font-size: rem-calc(11);
          }
        }
      }

      .cv-close-btn {
        top: rem-calc(16);
        right: rem-calc(16);
        width: rem-calc(32);
        height: rem-calc(32);
      }
    }

    .cv-modal-content {
      padding: rem-calc(16);
      gap: rem-calc(12);

      .cv-subject-section,
      .cv-message-section {
        .cv-section-label {
          font-size: rem-calc(12);
          margin-bottom: rem-calc(8);
        }

        .cv-subject {
          font-size: rem-calc(14);
          padding: rem-calc(10);
        }

        .cv-message-content {
          padding: rem-calc(10);

          p {
            font-size: rem-calc(12);
          }
        }
      }
    }
  }
}